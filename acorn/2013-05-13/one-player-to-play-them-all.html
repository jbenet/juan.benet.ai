<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>One Player to Play Them All - juan.benet.ai</title>
  <meta name="viewport" content="width=device-width">

  <!-- CSS -->
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="/css/syntax.css">
  <link href="/css/main.css" media="all" rel="stylesheet" type="text/css" />

  <!-- jQuery for inlined $ -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" ></script>

</head>
<body>

<div class="site">

  <div class="content markdown">
  <h2>
  <small><a href="/">Juan Benet</a> /
  <a class="category" href="/acorn">
  acorn</a> /</small>
  One Player to Play Them All</h2>
<p class="meta">2013-05-13</p>

<div class="post">
<p><em>The Lord of the Rings</em> is one of my favorite books. This little-known tale of adventure features an amazingly powerful ring, bearing an enchanted inscription that reads:</p>
<div class="highlight"><pre><code class="language-" data-lang="">Ash nazg durbatulûk, ash nazg gimbatul,
Ash nazg thrakatulûk agh burzum-ishi krimpatul.
</code></pre></div>
<p>That&#39;s in <a href="http://acorn.athena.ai/dyzemxzogd">orcish</a>, a most soothing language. It loosely translates to:</p>
<div class="highlight"><pre><code class="language-" data-lang="">One player to play them all, one player to detect them,
One player to embed them all and in your webpage play them.
</code></pre></div>
<p>How or why a ring of power forged in the fires of a terrible active volcano ages ago would bear such prescient web-development advice, we&#39;ll never know. But we have heeded it. We have answered J.R.R. Tolkien&#39;s call for a powerful media player that can leverage all other media players, to play <em>anything</em>.</p>

<h2 id="the-birth-of-acorn-player">The birth of Acorn-Player</h2>

<p>At Athena, we need to collect the world&#39;s best explanations for all knowledge. These explanations are strewn across the web, in all sorts of formats. One YouTube video features Feynman explaining
<a href="http://www.youtube.com/watch?v=v3pYRn5j7oI">what heat is</a>. Another video, in Vimeo this time, explains &quot;<a href="http://vimeo.com/40271657">What is a flame?</a>&quot; Beyond video, there are scores of <a href="https://ipfs.io/ipfs/QmW8mRRHbTFCMrNjMYtGhjMFfFrzg6tza1w4C6hUTVbmXs/skitch/conditional-probability-20130513-124137.png">images</a>, <a href="http://www.ohio.edu/people/williar4/html/HapEd/NSF/Phys/Newton.pdf">documents</a>, <a href="http://acko.net/blog/how-to-fold-a-julia-fractal/">interactive webpages</a>, and so on.</p>

<p>We needed a way to allow our users to input <em>ANY</em> link to the explanations they find across the net, and embed them uniformly. In particular, the embedding should be smart: links to videos should embed only the video, regardless of the hosting service (and their particular embed code). Moreover, one ought to be able to clip the video and embed only the relevant part.</p>

<p>We looked around the web to find existing javascript libraries that would do such things. We figured that since sites like facebook and twitter do some smart embedding, there would be an open source library to help us. But to our surprise we found none! So... we wrote one.</p>

<h2 id="what-is-it">What is it?</h2>

<p><a href="https://github.com/athenalabs/acorn-player">Acorn-Player</a> is an open-source JS/CSS/HTML library that:</p>

<ol>
<li>recognizes how to properly embed all kinds of links</li>
<li>provides a uniform player interface</li>
<li>can remix media (more on that in later posts)</li>
</ol>

<p>The github repo is at:
<a href="https://github.com/athenalabs/acorn-player">https://github.com/athenalabs/acorn-player</a></p>

<p>You can see it in action at:
<a href="https://acorn.athena.ai">https://acorn.athena.ai</a></p>

<p>And it looks like this:</p>

<iframe width='600' height='400' src='//acorn.athena.ai/embed/xwkbokwxti' scrolling='no' frameborder='0' allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>

<h2 id="how-do-i-use-it">How do I use it?</h2>

<p>So Acorn-Player can take <em>any</em> sort of media link and embed it correctly in your website. You can see the types of media it recognizes specially <a href="https://github.com/athenalabs/acorn-player/tree/master/coffee/src/shells">here</a> (the worst case is a simple iframe). Right now, it&#39;s not that smart yet, but the infrastructure is all in place and now it&#39;s learning about more and more kinds of media. It also lets you combine those pieces of media in various ways: playlists, galleries, spliced videos, and more.</p>

<p>You can use it in two ways:</p>

<h3 id="embed-acorns-in-your-website">Embed Acorns in your Website</h3>

<p>You can make and save acorns at <a href="https://acorn.athena.ai">https://acorn.athena.ai</a>. You can then embed them with code like this:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;iframe</span> <span class="na">width=</span><span class="s">"600"</span> <span class="na">height=</span><span class="s">"400"</span> <span class="na">src=</span><span class="s">"http://acorn.athena.ai/embed/wijkrivqtr"</span> <span class="na">scrolling=</span><span class="s">"no"</span> <span class="na">frameborder=</span><span class="s">"0"</span> <span class="na">allowfullscreen=</span><span class="s">"yes"</span> <span class="na">webkitallowfullscreen=</span><span class="s">"yes"</span> <span class="na">mozallowfullscreen=</span><span class="s">"yes"</span><span class="nt">&gt;&lt;/iframe&gt;</span>
</code></pre></div>
<h3 id="add-acorn-player-js">Add <code>acorn-player.js</code></h3>

<p>You can add the library to your website (see <a href="https://github.com/athenalabs/acorn-player">github repo</a> for details), and then
create and embed acorns like this:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// with just a link</span>
<span class="nx">link</span> <span class="o">=</span> <span class="s1">'http://www.youtube.com/watch?v=CbIZU8cQWXc'</span><span class="p">;</span>
<span class="nx">player</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">acorn</span><span class="p">.</span><span class="nx">player</span><span class="p">.</span><span class="nx">Player</span><span class="p">({</span> <span class="na">data</span><span class="p">:</span> <span class="nx">link</span> <span class="p">});</span>
<span class="nx">player</span><span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'body'</span><span class="p">));</span>
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// or with more complicated data</span>
<span class="nx">player</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">acorn</span><span class="p">.</span><span class="nx">player</span><span class="p">.</span><span class="nx">Player</span><span class="p">({</span> <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">"acornid"</span><span class="p">:</span> <span class="s2">"new"</span><span class="p">,</span>
  <span class="s2">"shell"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"shell"</span><span class="p">:</span> <span class="s2">"acorn.YouTubeShell"</span><span class="p">,</span>
    <span class="s2">"link"</span><span class="p">:</span> <span class="s2">"http://www.youtube.com/watch?v=CbIZU8cQWXc"</span><span class="p">,</span>
    <span class="s2">"timeStart"</span><span class="p">:</span> <span class="mi">160</span><span class="p">,</span>
    <span class="s2">"timeEnd"</span><span class="p">:</span> <span class="mi">320</span>
  <span class="p">},</span>
<span class="p">}});</span>
<span class="nx">player</span><span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'body'</span><span class="p">));</span>
</code></pre></div>
<h2 id="how-does-it-work">How does it work?</h2>

<p>Acorn-Player plays <code>acorns</code> (surprise!). What are <code>acorns</code>? They are data-representations of web media. Acorn-player takes these as input, and transforms them into playable media. For example, see these JSON <code>acorns</code> and what happens when they&#39;re fed to acorn-players:</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="err">//</span><span class="w"> </span><span class="err">an</span><span class="w"> </span><span class="err">acorn</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">plays</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">youtube</span><span class="w"> </span><span class="err">video</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"shell"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"shell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acorn.YouTubeShell"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.youtube.com/watch?v=CbIZU8cQWXc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timeStart"</span><span class="p">:</span><span class="w"> </span><span class="mi">160</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timeEnd"</span><span class="p">:</span><span class="w"> </span><span class="mi">320</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<iframe width='600' height='400' src='//acorn.athena.ai/embed/ozqjmhmomv' scrolling='no' frameborder='0' allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="err">//</span><span class="w"> </span><span class="err">an</span><span class="w"> </span><span class="err">acorn</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">displays</span><span class="w"> </span><span class="err">an</span><span class="w"> </span><span class="err">image</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"shell"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"shell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acorn.ImageShell"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://static.benet.ai/t/purpose.png"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<iframe width='600' height='480' src='//acorn.athena.ai/embed/ecqknmozkr' scrolling='no' frameborder='0' allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="err">//</span><span class="w"> </span><span class="err">an</span><span class="w"> </span><span class="err">acorn</span><span class="w"> </span><span class="err">that</span><span class="w"> </span><span class="err">displays</span><span class="w"> </span><span class="err">a</span><span class="w"> </span><span class="err">playlist</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nt">"shell"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"shell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acorn.CollectionShell"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"shells"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"shell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acorn.YouTubeShell"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.youtube.com/watch?v=CbIZU8cQWXc"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"shell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acorn.YouTubeShell"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.youtube.com/watch?v=BFO2usVjfQc"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"shell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acorn.YouTubeShell"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.youtube.com/watch?v=WlGemHL5vLY"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"shell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"acorn.VimeoShell"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://vimeo.com/38101676"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<iframe width='600' height='400' src='//acorn.athena.ai/embed/wijkrivqtr' scrolling='no' frameborder='0' allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>

<h2 id="and-what-else">And what else?</h2>

<p>Acorn-Player is a work in progress. It is already pretty powerful, but there is so much more we have planned for it. This is just the beginning. Go check out the <a href="https://github.com/athenalabs/acorn-player">github repo</a>, and see what we&#39;re working on now, what&#39;s coming soon, etc.</p>

<p>And, it&#39;s open-source! So please report issues + send us pull requests.</p>

<p>We also built a free web service, <a href="https://acorn.athena.ai">https://acorn.athena.ai</a>, to store <code>acorn</code> data. More on that later :).</p>

</div>

  </div>


 <!-- Footer -->
  <footer>
    <div id="site-map">
      <h5>juan.benet.ai</h5>
      <ul class="links no-bullet">
        <li><a href="/">Home</a></li>
        <li><a href="/about">About</a></li>
      </ul>
    </div>
    <div id="contact-me">
      <h5>Contact</h5>
      <ul class="links no-bullet">
        <li><a href="https://twitter.com/intent/user?screen_name=juanbenet" target="_blank"><i class="icon-twitter"></i> @juanbenet</a></li>
        <li><a href="https://github.com/jbenet" id="new-issue" target="_blank"><i class="icon-github"></i> github.com/jbenet</a></li>
        <li>
        <a href="http://www.google.com/recaptcha/mailhide/d?k=01LaO8uNTV8Ss8kghGlxHXCw==&amp;c=eEwF2u87Cdkgipi5COLbnA=="
        onclick="window.open('http://www.google.com/recaptcha/mailhide/d?k\07501LaO8uNTV8Ss8kghGlxHXCw\75\75\46c\75eEwF2u87Cdkgipi5COLbnA\75\075', '', 'toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=0,width=500,height=300'); return false;"
        title="Reveal this e-mail address"><i class="icon-envelope"></i>
        click-to-reveal@benet.ai</a>
        </li>
      </ul>
    </div>
  </footer>

</div>

<!-- cdnlibs -->
<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.1/underscore-min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script src="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.min.css"></script>

<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48626381-1', 'benet.ai');
  ga('send', 'pageview');

</script>

<script type="text/javascript">
$(document).ready(function() {
  // Modify this template to add or change links.
  var links = _.template('\
    <div class="header-links">\
      <a href="#<%= id %>"><i class="icon icon-link"></i></a>\
    </div>\
  ');

  // If your headers dont already have ids, use this slug fn
  var slugize = function(title) {
    return title.toLowerCase()
      .replace(/[^\w ()]+/g,'')
      .replace(/ +/g,'-');
  }

  // Modify the ':header' selector to apply to other elems
  $(':header').each(function(i, h) {

    // Add an id, if it doesn't have one.
    if (!$(h).attr('id')) {
      var id = $(h).text().replace(/[^A-Za-z0-9_]+/g, '-')
      id = id.replace(/^-+|-+$/g, '')
      $(h).attr('id', slugize($(h).text()));
    }

    // Add the link div
    $(h).append($(links({
      id: $(h).attr('id')
    })));
  });
});
</script>

</body>
</html>
